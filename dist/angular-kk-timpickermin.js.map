{"version":3,"sources":["angular-kk-timpicker.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","./directives/timpicker","./factories/timepickerFactory","./module",2,"_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","Timepicker","factory","_this","this","link","scope","element","attrs","modelCtrl","$input","angular","querySelector","cacheValue","settings","addZero","default","Date","keyHandler","console","log","on","off","extend","$watch","newValue","oldValue","$viewValue","date","formatString","$setViewValue","val","parseString","hours","getHours","minutes","getMinutes","flag","getFlag","$formatters","push","convert","$parsers","error","$validators","modelValue","changeModel","closePopover","$render","togglePopover","popoverIsOpen","addMinutes","current","setMinutes","changeFlag","setHours","addHours","changeTimeFromPopover","type","toUpperCase","parsedValue","parseInt","isNaN","$digest","document","$on","replace","templateUrl","directive","kkTimepickerFactory","../factories/timepickerFactory",3,"_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","TimepickerFactory","timeRegExp","RegExp","digit","pad","formatDigit","use24HoursFormat","undefined","hoursStr","str","split","join","parseResults","match","hoursValue","minutesValue","toLowerCase",4],"mappings":"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","file":"angular-kk-timpickermin.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nrequire('./module');\n\nrequire('./factories/timepickerFactory');\n\nrequire('./directives/timpicker');\n},{\"./directives/timpicker\":2,\"./factories/timepickerFactory\":3,\"./module\":4}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nrequire('../factories/timepickerFactory');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } ///<reference path=\"./timepicker.d.ts\" />\n///<reference path=\"../factories/timepickerFactory.d.ts\" />\n///<reference path=\"../../typings/tsd.d.ts\" />\n\nvar Timepicker = function Timepicker(factory) {\n    var _this = this;\n\n    _classCallCheck(this, Timepicker);\n\n    this.link = function (scope, element, attrs, modelCtrl) {\n        var $input = angular.element(element[0].querySelector('.js-input')),\n            factory = _this.factory;\n        var cacheValue = '';\n        var settings = {\n            addZero: true,\n            default: function _default() {\n                return new Date();\n            }\n        };\n        var keyHandler = function keyHandler() {\n            console.log(123);\n        };\n        element.on('focus', function () {\n            console.log('focus');\n            angular.element(_this).on('keyup', keyHandler);\n        });\n        element.on('blur', function () {\n            console.log('blur');\n            angular.element(_this).off('keyup', keyHandler);\n        });\n        settings = angular.extend(settings, scope.settings);\n        scope.$watch('date', function (newValue, oldValue) {\n            if (newValue === oldValue && !modelCtrl.$viewValue) {\n                scope.date = settings.default();\n                var value = factory.formatString(scope.date, settings);\n                modelCtrl.$setViewValue(value);\n                $input.val(value);\n            }\n            if (modelCtrl.$viewValue) {\n                scope.date = factory.parseString(modelCtrl.$viewValue, settings);\n            }\n            if (!newValue) {\n                return;\n            }\n            scope.hours = factory.getHours(scope.date, settings);\n            scope.minutes = factory.getMinutes(scope.date, settings);\n            scope.flag = factory.getFlag(scope.date, settings);\n        }, true);\n        modelCtrl.$formatters.push(function (value) {\n            return factory.convert(value, settings) || value;\n        });\n        modelCtrl.$parsers.push(function (value) {\n            return factory.convert(value, settings) || value;\n        });\n        var error = 'timeStringParse';\n        modelCtrl.$validators[error] = function (modelValue) {\n            return !!factory.convert(modelValue, settings);\n        };\n        var changeModel = function changeModel() {\n            var value = factory.formatString(scope.date, settings);\n            $input.val(value);\n            modelCtrl.$setViewValue(value);\n        };\n        $input.on('change', function () {\n            var value = factory.convert($input.val(), settings);\n            scope.date = factory.parseString(value, settings);\n            if (scope.date) {\n                changeModel();\n            }\n        });\n        $input.on('focus', function () {\n            cacheValue = $input.val();\n            scope.closePopover();\n            $input.val('');\n        });\n        $input.on('blur', function () {\n            if (!$input.val() && cacheValue) {\n                $input.val(cacheValue);\n            }\n        });\n        $input.on('keyup', function () {\n            cacheValue = '';\n        });\n        modelCtrl.$render = function () {\n            scope.date = factory.parseString(modelCtrl.$viewValue, settings);\n            $input.val(modelCtrl.$viewValue);\n        };\n        scope.togglePopover = function () {\n            scope.popoverIsOpen = !scope.popoverIsOpen;\n        };\n        scope.addMinutes = function (value) {\n            if (!scope.date) {\n                scope.date = settings.default();\n            }\n            var current = scope.date.getMinutes();\n            scope.date.setMinutes(current + value);\n            changeModel();\n        };\n        scope.changeFlag = function () {\n            if (!scope.date) {\n                scope.date = settings.default();\n            }\n            var current = scope.date.getHours();\n            if (current === 0) {\n                scope.date.setHours(12);\n                changeModel();\n            } else if (current === 12) {\n                scope.date.setHours(0);\n                changeModel();\n            } else {\n                scope.addHours(12);\n            }\n        };\n        scope.addHours = function (value) {\n            if (!scope.date) {\n                scope.date = settings.default();\n            }\n            var current = scope.date.getHours();\n            scope.date.setHours(current + value);\n            scope.hours = factory.getHours(scope.date, settings);\n            changeModel();\n        };\n        scope.changeTimeFromPopover = function (value, type) {\n            if (!scope.date) {\n                scope.date = settings.default();\n            }\n            if (type === 'flag') {\n                if (value.toUpperCase() === 'AM' && scope.date.getHours() > 12) {\n                    scope.addHours(12);\n                    return;\n                }\n                if (value.toUpperCase() === 'PM' && scope.date.getHours() <= 12) {\n                    scope.addHours(12);\n                    return;\n                }\n            } else {\n                var parsedValue = parseInt(value, 10);\n                if (factory.isNaN(parsedValue)) {\n                    value = '';\n                    return;\n                }\n                if (type === 'minute') {\n                    scope.date.setMinutes(parsedValue);\n                }\n                if (type === 'hour') {\n                    scope.date.setHours(parsedValue);\n                }\n                changeModel();\n            }\n        };\n        scope.closePopover = function () {\n            scope.popoverIsOpen = false;scope.$digest();\n        };\n        angular.element(document).on('click', scope.closePopover);\n        scope.$on('$destroy', function () {\n            angular.element(document).off('click', scope.closePopover);\n        });\n    };\n    this.scope = {\n        settings: '='\n    };\n    this.replace = true;\n    this.require = 'ngModel';\n    this.templateUrl = 'directives/kk.timepicker.tpl.html';\n    this.factory = factory;\n};\n\nangular.module('kk.timepicker').directive('kkTimepicker', ['kkTimepickerFactory', function (kkTimepickerFactory) {\n    return new Timepicker(kkTimepickerFactory);\n}]);\nexports.default = Timepicker;\n},{\"../factories/timepickerFactory\":3}],3:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n///<reference path=\"../../typings/tsd.d.ts\" />\n///<reference path=\"./timepickerFactory.d.ts\" />\n\nvar TimepickerFactory = (function () {\n    function TimepickerFactory() {\n        _classCallCheck(this, TimepickerFactory);\n\n        this.timeRegExp = new RegExp('^([0-2]?[0-9]|2[0-3]|3[0-3])\\s{0,}?[:]?\\s{0,}([0-5][0-9]|[0-9])?\\s{0,}?(am|pm|AM|PM)?$');\n    }\n\n    _createClass(TimepickerFactory, [{\n        key: 'formatDigit',\n        value: function formatDigit(digit, addZero) {\n            return addZero ? this.pad(digit) : '' + digit;\n        }\n    }, {\n        key: 'getFlag',\n        value: function getFlag(date, settings) {\n            var hours = date.getHours();\n            return hours < 12 ? 'AM' : 'PM';\n        }\n    }, {\n        key: 'getMinutes',\n        value: function getMinutes(date, settings) {\n            return this.formatDigit(date.getMinutes(), true);\n        }\n    }, {\n        key: 'getHours',\n        value: function getHours(date, settings) {\n            var hours = date.getHours();\n            // return 24 format\n            if (settings.use24HoursFormat) {\n                return this.formatDigit(hours, settings.addZero);\n            }\n            // if 12 hours\n            if (hours === 12 || hours === 0) {\n                return '12';\n            }\n            // if more then 12 ours\n            if (hours > 12) {\n                return this.formatDigit(hours - 12, settings.addZero);\n            }\n            // other\n            return this.formatDigit(hours, settings.addZero);\n        }\n    }, {\n        key: 'pad',\n        value: function pad(value) {\n            return value < 10 ? '0' + value : '' + value;\n        }\n    }, {\n        key: 'isNaN',\n        value: function isNaN(value) {\n            return value !== value;\n        }\n    }, {\n        key: 'convert',\n        value: function convert(value, settings) {\n            var date = this.parseString(value, settings);\n            return date ? this.formatString(date, settings) : '';\n        }\n    }, {\n        key: 'formatString',\n        value: function formatString(date, settings) {\n            var flag = undefined;\n            var hours = undefined;\n            var value = date.getHours();\n            if (!settings.use24HoursFormat) {\n                if (value === 12 || value === 0) {\n                    flag = this.getFlag(date, settings);\n                    hours = 12;\n                } else if (value > 12) {\n                    hours = value - 12;\n                    flag = this.getFlag(date, settings);\n                } else {\n                    hours = value;\n                    flag = this.getFlag(date, settings);\n                }\n            } else {\n                hours = value;\n                flag = this.getFlag(date, settings);\n            }\n            var hoursStr = settings.addZero ? this.pad(hours) : hours;\n            var minutes = this.pad(date.getMinutes());\n            if (settings.use24HoursFormat) {\n                return hoursStr + ':' + minutes;\n            } else {\n                return hoursStr + ':' + minutes + ' ' + flag;\n            }\n        }\n    }, {\n        key: 'parseString',\n        value: function parseString(str, settings) {\n            if (!str) {\n                return null;\n            }\n            str = str.split(' ').join('');\n            var parseResults = str.match(this.timeRegExp);\n            if (!parseResults) {\n                return null;\n            }\n            var hours = parseResults[1] || '';\n            var minutes = parseResults[2] || '';\n            var flag = parseResults[3] || '';\n            var date = new Date(0);\n            var hoursValue = parseInt(hours, 10);\n            var minutesValue = parseInt(minutes, 10);\n            hoursValue = this.isNaN(hoursValue) ? 0 : hoursValue;\n            minutesValue = this.isNaN(minutesValue) ? 0 : minutesValue;\n            // hack @todo needs to remake reg exp\n            if (hoursValue > 24) {\n                return null;\n            }\n            if (minutesValue > 59) {\n                return null;\n            }\n            if (hoursValue >= 12) {\n                if (flag.toLowerCase() === 'am') {\n                    date.setHours(hoursValue - 12);\n                } else {\n                    date.setHours(hoursValue);\n                }\n            } else {\n                if (flag.toLowerCase() === 'pm') {\n                    date.setHours(hoursValue + 12);\n                } else {\n                    date.setHours(hoursValue);\n                }\n            }\n            date.setMinutes(minutesValue);\n            return date;\n        }\n    }]);\n\n    return TimepickerFactory;\n})();\n\nangular.module('kk.timepicker').factory('kkTimepickerFactory', function () {\n    return new TimepickerFactory();\n});\nexports.default = TimepickerFactory;\n},{}],4:[function(require,module,exports){\n'use strict';\n\n///<reference path=\"../typings/tsd.d.ts\" />\nangular.module('kk.timepicker', []);\n},{}]},{},[1]);\n"],"sourceRoot":"/source/"}