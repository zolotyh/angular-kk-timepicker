!function e(t,r,n){function i(o,u){if(!r[o]){if(!t[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";e("./module"),e("./factories/timepickerFactory"),e("./directives/timpicker")},{"./directives/timpicker":2,"./factories/timepickerFactory":3,"./module":4}],2:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),e("../factories/timepickerFactory");var i=function a(e){var t=this;n(this,a),this.link=function(e,r,n,i){var a=angular.element(r[0].querySelector(".js-input")),o=38,u=40,s=t.factory,c={addZero:!0,"default":function(){return new Date}};c=angular.extend(c,e.settings),e.$watch("date",function(t,r){if(t===r&&!i.$viewValue){e.date=c["default"]();var n=s.formatString(e.date,c);i.$setViewValue(n),a.val(n)}i.$viewValue&&(e.date=s.parseString(i.$viewValue,c)),t&&(e.hours=s.getHours(e.date,c),e.minutes=s.getMinutes(e.date,c),e.flag=s.getFlag(e.date,c))},!0),i.$formatters.push(function(e){return s.convert(e,c)||e}),i.$parsers.push(function(e){return s.convert(e,c)||e});var l="timeStringParse";i.$validators[l]=function(e){return!!s.convert(e,c)};var f=function(){var t=s.formatString(e.date,c);a.val(t),i.$setViewValue(t)},d=function(e,t){var r=void 0,n=void 0;return 2>=e?(r=0,n=2):e>2&&6>e?(r=3,n=5):(r=6,n=t.length),{start:r,end:n}};a.on("focusin",function(e){var t=a[0],r=a.val(),n=s.checkValidity(r);n&&setTimeout(function(){var e=t.selectionStart,n=d(e,r);t.setSelectionRange(n.start,n.end)})}),a.on("keydown",function(t){var r=function(t){var r=a.val(),n=a[0],i=n.selectionStart;2>=i?e.addHours(t):i>2&&6>i?e.addMinutes(t):e.changeFlag(t);var o=d(i,r);n.setSelectionRange(o.start,o.end)};t.which===u?(r(-1),t.preventDefault()):t.which===o&&(r(1),t.preventDefault())}),a.on("blur",function(){a.off("kydown.kktimepicker")}),a.on("change",function(){var t=s.convert(a.val(),c);e.date=s.parseString(t,c),e.date&&f()}),i.$render=function(){e.date=s.parseString(i.$viewValue,c),a.val(i.$viewValue)},e.togglePopover=function(){e.popoverIsOpen=!e.popoverIsOpen},e.addMinutes=function(t){e.date||(e.date=c["default"]());var r=e.date.getMinutes();e.date.setMinutes(r+t),f()},e.changeFlag=function(){e.date||(e.date=c["default"]());var t=e.date.getHours();0===t?(e.date.setHours(12),f()):12===t?(e.date.setHours(0),f()):e.addHours(12)},e.addHours=function(t){e.date||(e.date=c["default"]());var r=e.date.getHours();e.date.setHours(r+t),e.hours=s.getHours(e.date,c),f()},e.changeTimeFromPopover=function(t,r){if(e.date||(e.date=c["default"]()),"flag"===r){if("AM"===t.toUpperCase()&&e.date.getHours()>12)return void e.addHours(12);if("PM"===t.toUpperCase()&&e.date.getHours()<=12)return void e.addHours(12)}else{var n=parseInt(t,10);if(s.isNaN(n))return void(t="");"minute"===r&&e.date.setMinutes(n),"hour"===r&&e.date.setHours(n),f()}},e.closePopover=function(){e.popoverIsOpen=!1,e.$digest()},angular.element(document).on("click",e.closePopover),e.$on("$destroy",function(){angular.element(document).off("click",e.closePopover)})},this.scope={settings:"=",ngDisabled:"="},this.priority=101,this.replace=!0,this.require="ngModel",this.templateUrl="directives/kk.timepicker.tpl.html",this.factory=e};angular.module("kk.timepicker").directive("kkTimepicker",["kkTimepickerFactory",function(e){return new i(e)}]),r["default"]=i},{"../factories/timepickerFactory":3}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(){n(this,e),this.timeRegExp=new RegExp("^([0-2]?[0-9]|2[0-3]|3[0-3])s{0,}?[:]?s{0,}([0-5][0-9]|[0-9])?s{0,}?(am|pm|AM|PM)?$")}return i(e,[{key:"checkValidity",value:function(e){return!!e.split(" ").join("").match(this.timeRegExp)}},{key:"formatDigit",value:function(e,t){return t?this.pad(e):""+e}},{key:"getFlag",value:function(e,t){var r=e.getHours();return 12>r?"AM":"PM"}},{key:"getMinutes",value:function(e,t){return this.formatDigit(e.getMinutes(),!0)}},{key:"getHours",value:function(e,t){var r=e.getHours();return t.use24HoursFormat?this.formatDigit(r,t.addZero):12===r||0===r?"12":r>12?this.formatDigit(r-12,t.addZero):this.formatDigit(r,t.addZero)}},{key:"pad",value:function(e){return 10>e?"0"+e:""+e}},{key:"isNaN",value:function(e){return e!==e}},{key:"convert",value:function(e,t){var r=this.parseString(e,t);return r?this.formatString(r,t):""}},{key:"formatString",value:function(e,t){var r=void 0,n=void 0,i=e.getHours();t.use24HoursFormat?(n=i,r=this.getFlag(e,t)):12===i||0===i?(r=this.getFlag(e,t),n=12):i>12?(n=i-12,r=this.getFlag(e,t)):(n=i,r=this.getFlag(e,t));var a=t.addZero?this.pad(n):n,o=this.pad(e.getMinutes());return t.use24HoursFormat?a+":"+o:a+":"+o+" "+r}},{key:"parseString",value:function(e,t){if(!e)return null;e=e.split(" ").join("");var r=e.match(this.timeRegExp);if(!r)return null;var n=r[1]||"",i=r[2]||"",a=r[3]||"",o=new Date(0),u=parseInt(n,10),s=parseInt(i,10);return u=this.isNaN(u)?0:u,s=this.isNaN(s)?0:s,u>24?null:s>59?null:(u>=12?"am"===a.toLowerCase()?o.setHours(u-12):o.setHours(u):"pm"===a.toLowerCase()?o.setHours(u+12):o.setHours(u),o.setMinutes(s),o)}}]),e}();angular.module("kk.timepicker").factory("kkTimepickerFactory",function(){return new a}),r["default"]=a},{}],4:[function(e,t,r){"use strict";angular.module("kk.timepicker",[])},{}]},{},[1]);
//# sourceMappingURL=angular-kk-timepicker.min.js.map
